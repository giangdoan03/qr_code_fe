import{r as o,o as x,c as b,w as c,a as n,f as h,b as y,e as l,h as k}from"./index-C2Vbri2L.js";const w={__name:"LandingPageList",setup(I){const u=o([]),t=o({current:1,pageSize:10,total:0}),r=o(""),s=o(!1),p=[{title:"ID",dataIndex:"id"},{title:"Tên trang",dataIndex:"title"},{title:"Lượt truy cập",dataIndex:"access_count"},{title:"Trạng thái",dataIndex:"status"},{title:"Cập nhật",dataIndex:"updated_at"}],i=async(d=1)=>{s.value=!0;try{const a=await h({page:d,per_page:t.value.pageSize,search:r.value});u.value=a.data.data;const e=a.data.pager||{};t.value.total=Number(e.total||0),t.value.current=Number(e.current_page||1),t.value.pageSize=Number(e.per_page||10)}catch(a){console.error("Lỗi tải danh sách landing pages:",a)}finally{s.value=!1}};return x(()=>i()),(d,a)=>{const e=n("a-input"),_=n("a-button"),g=n("a-space"),m=n("a-table"),v=n("a-card");return y(),b(v,{title:"Trang tự thiết kế"},{default:c(()=>[l(g,{style:{"margin-bottom":"16px"}},{default:c(()=>[l(e,{value:r.value,"onUpdate:value":a[0]||(a[0]=f=>r.value=f),placeholder:"Tìm kiếm",style:{width:"180px"}},null,8,["value"]),l(_,{type:"primary",onClick:i},{default:c(()=>a[1]||(a[1]=[k("Tìm kiếm")])),_:1})]),_:1}),l(m,{dataSource:u.value,columns:p,pagination:t.value,loading:s.value,rowKey:"id",bordered:""},null,8,["dataSource","pagination","loading"])]),_:1})}}};export{w as default};
